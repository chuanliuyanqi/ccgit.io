<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>50种语言"我爱你"爱心环绕</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #000;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }
        
        .container {
            position: relative;
            width: 100%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .title {
            color: #ff4081;
            font-size: 24px;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 10px rgba(255, 64, 129, 0.5);
        }
        
        canvas {
            display: block;
            background: #000;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(255, 64, 129, 0.3);
        }
        
        .controls {
            margin-top: 20px;
            display: flex;
            gap: 15px;
        }
        
        button {
            padding: 10px 20px;
            background: rgba(255, 64, 129, 0.7);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 0 10px rgba(255, 64, 129, 0.7);
            transition: all 0.3s ease;
        }
        
        button:hover {
            background: rgba(255, 64, 129, 1);
            transform: translateY(-2px);
            box-shadow: 0 0 15px rgba(255, 64, 129, 1);
        }
        
        .status {
            margin-top: 10px;
            color: #ff4081;
            font-size: 14px;
        }
        
        @media (max-width: 600px) {
            .title {
                font-size: 20px;
            }
            
            canvas {
                width: 95vw;
                height: 70vh;
            }
            
            button {
                padding: 8px 16px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">50种语言"我爱你"爱心环绕</h1>
        <canvas id="loveCanvas" width="600" height="500"></canvas>
        <div class="controls">
            <button id="toggleBtn">暂停动画</button>
        </div>
        <div class="status" id="status">动画运行中...</div>
    </div>

    <script>
        class LoveHeartAnimation {
            constructor() {
                this.canvas = document.getElementById('loveCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.toggleBtn = document.getElementById('toggleBtn');
                this.status = document.getElementById('status');
                
                // 初始化数据
                this.isPaused = false;
                this.angle = 0;
                this.animationId = null;
                this.positions = [];
                
                // 语言文本
                this.loveTexts = [
                    "我爱你", // 中文
                    "I love you", // 英语
                    "Je t'aime", // 法语
                    "Ich liebe dich", // 德语
                    "Te amo", // 西班牙语
                    "Ti amo", // 意大利语
                    "愛してる", // 日语
                    "사랑해", // 韩语
                    "Я тебя люблю", // 俄语
                    "Eu te amo", // 葡萄牙语
                    "ฉันรักเธอ", // 泰语
                    "Jeg elsker dig", // 丹麦语
                    "Ik hou van jou", // 荷兰语
                    "Minä rakastan sinua", // 芬兰语
                    "Je t'aime", // 法语(加拿大)
                    "Σ' αγαπώ", // 希腊语
                    "Szeretlek", // 匈牙利语
                    "Ég elska þig", // 冰岛语
                    "Tôi yêu bạn", // 越南语
                    "Mahal kita", // 菲律宾语
                    "Volim te", // 克罗地亚语
                    "Miluji tě", // 捷克语
                    "Ani ohev otach", // 希伯来语
                    "Kocham cię", // 波兰语
                    "Amo-te", // 葡萄牙语(巴西)
                    "Te iubesc", // 罗马尼亚语
                    "Milujem te", // 斯洛文尼亚语
                    "Amo ti", // 世界语
                    "אני אוהבת אותך", // 希伯来语(女对男)
                    "أنا أحبك", // 阿拉伯语
                    "ຂ້ອຍຮັກເຈົ້າ", // 老挝语
                    "ខ្ញុំស្រឡាញ់អ្នក", // 柬埔寨语
                    "Я кахаю цябе", // 乌克兰语
                    "Мən səninlə sevirəm", // 阿塞拜疆语
                    "我爱你", // 粤语
                    "I love thee", // 古英语
                    "Mi amas vin", // 世界语
                    "Ina sonko", // 斯瓦希里语
                    "Me gustas", // 西班牙语(拉美)
                    "Saya cintamu", // 印尼语
                    "Nakupenda", // 斯瓦希里语
                    "Main tumse pyar karta hoon", // 印地语(男)
                    "Main tumse pyar karti hoon", // 印地语(女)
                    "Sənə seviram", // 土库曼语
                    "Aš tave myliu", // 立陶宛语
                    "Es tevi mīlu", // 拉脱维亚语
                    "Te quiero", // 西班牙语(亲密)
                    "Eu amo-te", // 葡萄牙语(欧洲)
                    "Rakastan sinua", // 芬兰语
                    "Aishiteru", // 日语(正式)
                ];
                
                this.init();
            }
            
            init() {
                // 设置Canvas尺寸
                this.resizeCanvas();
                
                // 计算位置
                this.calculatePositions();
                
                // 绑定事件
                this.bindEvents();
                
                // 开始动画
                this.startAnimation();
            }
            
            resizeCanvas() {
                // 根据窗口大小调整Canvas
                const container = this.canvas.parentElement;
                const maxWidth = Math.min(600, container.clientWidth - 40);
                const maxHeight = Math.min(500, window.innerHeight - 200);
                
                this.canvas.width = maxWidth;
                this.canvas.height = maxHeight;
                this.canvasWidth = maxWidth;
                this.canvasHeight = maxHeight;
            }
            
            calculatePositions() {
                this.positions = [];
                const count = this.loveTexts.length;
                
                if (count === 0) return;
                
                const centerX = this.canvasWidth / 2;
                const centerY = this.canvasHeight / 2;
                const size = Math.min(this.canvasWidth, this.canvasHeight) * 0.4;
                
                for (let i = 0; i < count; i++) {
                    const t = 2 * Math.PI * i / count;
                    const point = this.calculateLovePoint(t, centerX, centerY, size);
                    this.positions.push(point);
                }
                
                console.log('位置计算完成：', this.positions.length, '个位置');
            }
            
            calculateLovePoint(t, cx, cy, size) {
                const x = 16 * Math.pow(Math.sin(t), 3);
                const y = 13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t);
                
                return {
                    x: cx + x * size / 16,
                    y: cy - y * size / 16,
                    angle: t
                };
            }
            
            bindEvents() {
                // 暂停/继续按钮
                this.toggleBtn.addEventListener('click', () => {
                    this.toggleAnimation();
                });
                
                // 窗口大小变化
                window.addEventListener('resize', () => {
                    this.resizeCanvas();
                    this.calculatePositions();
                });
                
                // 页面可见性变化
                document.addEventListener('visibilitychange', () => {
                    if (document.hidden) {
                        this.pauseAnimation();
                    } else {
                        this.resumeAnimation();
                    }
                });
            }
            
            startAnimation() {
                this.animate();
            }
            
            animate() {
                if (this.isPaused) {
                    this.animationId = requestAnimationFrame(() => this.animate());
                    return;
                }
                
                this.drawFrame();
                
                this.angle += 0.03;
                if (this.angle > 2 * Math.PI) {
                    this.angle = 0;
                }
                
                this.animationId = requestAnimationFrame(() => this.animate());
            }
            
            drawFrame() {
                const ctx = this.ctx;
                
                if (!ctx || !this.positions || this.positions.length === 0) return;
                
                // 清除画布
                ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight);
                
                // 绘制背景
                ctx.fillStyle = '#000000';
                ctx.fillRect(0, 0, this.canvasWidth, this.canvasHeight);
                
                // 绘制爱心路径
                this.drawLovePath();
                
                // 绘制文本
                const count = this.loveTexts.length;
                
                for (let i = 0; i < count; i++) {
                    const currentIndex = (i + Math.floor(this.angle / (2 * Math.PI) * count)) % count;
                    const pos = this.positions[currentIndex];
                    const text = this.loveTexts[i];
                    
                    ctx.save();
                    ctx.translate(pos.x, pos.y);
                    ctx.rotate(pos.angle + Math.PI / 2);
                    
                    ctx.font = '14px Arial, sans-serif';
                    ctx.fillStyle = `hsl(${(i * 360 / count) % 360}, 70%, 60%)`;
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.shadowColor = `hsl(${(i * 360 / count) % 360}, 70%, 60%)`;
                    ctx.shadowBlur = 10;
                    
                    ctx.fillText(text, 0, 0);
                    ctx.restore();
                }
            }
            
            drawLovePath() {
                const ctx = this.ctx;
                const centerX = this.canvasWidth / 2;
                const centerY = this.canvasHeight / 2;
                const size = Math.min(this.canvasWidth, this.canvasHeight) * 0.4;
                
                ctx.beginPath();
                
                for (let t = 0; t <= 2 * Math.PI; t += 0.05) {
                    const point = this.calculateLovePoint(t, centerX, centerY, size);
                    if (t === 0) {
                        ctx.moveTo(point.x, point.y);
                    } else {
                        ctx.lineTo(point.x, point.y);
                    }
                }
                
                ctx.closePath();
                ctx.strokeStyle = 'rgba(255, 183, 197, 0.3)';
                ctx.lineWidth = 2;
                ctx.stroke();
            }
            
            toggleAnimation() {
                this.isPaused = !this.isPaused;
                
                if (this.isPaused) {
                    this.toggleBtn.textContent = '继续动画';
                    this.status.textContent = '动画已暂停';
                } else {
                    this.toggleBtn.textContent = '暂停动画';
                    this.status.textContent = '动画运行中...';
                }
                
                console.log('动画状态：', this.isPaused ? '暂停' : '运行');
            }
            
            pauseAnimation() {
                if (!this.isPaused) {
                    this.isPaused = true;
                    this.toggleBtn.textContent = '继续动画';
                    this.status.textContent = '动画已暂停';
                }
            }
            
            resumeAnimation() {
                if (this.isPaused) {
                    this.isPaused = false;
                    this.toggleBtn.textContent = '暂停动画';
                    this.status.textContent = '动画运行中...';
                }
            }
            
            destroy() {
                if (this.animationId) {
                    cancelAnimationFrame(this.animationId);
                    this.animationId = null;
                }
            }
        }
        
        // 页面加载完成后初始化
        window.addEventListener('load', () => {
            const animation = new LoveHeartAnimation();
            
            // 页面卸载时清理
            window.addEventListener('beforeunload', () => {
                animation.destroy();
            });
        });
    </script>
</body>
</html>